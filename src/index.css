/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #root {
  height: 100%;
  /* Prevent animated overlays or wide elements from triggering horizontal scrollbars */
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

:root {
  --aura-dark: #07192b; /* primary dark-blue */
  --aura-dark-2: #041321;
  --aura-gold: #f1b011;
  --aura-gold-soft: #ffd166;
  --aura-white: #ffffff;
  --aura-text: #60a5fa; /* medium-readable blue */
  --aura-text-strong: #2563eb; /* stronger blue for accents */
  /* text glow intensity (0..1) - can be overridden via body[data-text-glow] */
  --text-glow-intensity: 0.06; /* default low */
  --heading-glow-intensity: 0.18; /* default stronger for headings */
}

body {
  /* dimmed dark-blue background (subtle gradient) */
  background: linear-gradient(180deg, var(--aura-dark) 0%, var(--aura-dark-2) 100%);
  color: var(--aura-text);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  font-weight: 400;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Hide the native cursor for a fully custom cursor experience across the site.
   Exceptions: form fields and contenteditable areas will keep native cursor for accessibility. */
html, body, #root {
  cursor: none;
}

/* Keep native cursor for real form controls and editable regions only. Remove `button` here so our custom cursor remains active over buttons/links. 
   If any element should show the native cursor, add the `.no-custom-cursor` class to it. */
input, textarea, select, [contenteditable], .no-custom-cursor {
  cursor: auto !important;
}

/* Force native cursor to be hidden for links and nav items so our custom cursor shows consistently.
   Use `.no-custom-cursor` on any link/button you want to show the system cursor instead. */
a, button, [role="button"], .nav-link {
  cursor: none;
}

/* Override Tailwind's text-white so 'white' text renders as our blue for better theme consistency */
.text-white { color: var(--aura-text) !important; }
.text-white\/90 { color: color-mix(in srgb, var(--aura-text) 90%, black 10%) !important; }

/* stronger blue utility for headers/important text */
.text-aura-strong { color: var(--aura-text-strong) !important; }

/* general aura text utility to replace gray/white body text where needed */
.text-aura { color: var(--aura-text) !important; }
.text-aura-weak { color: color-mix(in srgb, var(--aura-text) 70%, black 30%) !important; }

/* Custom cursor components */
.custom-cursor { position: fixed; left: 0; top: 0; width: 0; height: 0; pointer-events: none; z-index: 99999; }
.custom-cursor .cursor-dot {
  width: 10px; height: 10px; border-radius: 9999px; background: #f1b011; box-shadow: 0 0 8px rgba(241,176,17,0.9); transform: translate(-50%, -50%) scale(1); transition: transform 120ms ease, box-shadow 180ms ease, opacity 180ms ease;
}
.custom-cursor .cursor-ring {
  position: absolute; left: 0; top: 0; width: 36px; height: 36px; border-radius: 9999px; transform: translate(-50%, -50%) scale(1); border: 2px solid rgba(241,176,17,0.18); box-shadow: 0 0 18px rgba(241,176,17,0.06); transition: transform 160ms cubic-bezier(.2,.9,.2,1), opacity 160ms ease, border-color 160ms ease;
}
.custom-cursor .cursor-ripple {
  position: absolute; left: 0; top: 0; width: 8px; height: 8px; border-radius: 9999px; background: rgba(241,176,17,0.28); transform: translate(-50%, -50%) scale(0.6); opacity: 0; pointer-events: none; transition: transform 320ms ease, opacity 320ms ease;
}
.custom-cursor .cursor-spinner {
  position: absolute; left: 0; top: 0; width: 28px; height: 28px; border-radius: 50%; border: 3px solid rgba(241,176,17,0.12); border-top-color: rgba(241,176,17,0.98); transform: translate(-50%, -50%) rotate(0deg); opacity: 0; transition: opacity 160ms ease; animation: spin 900ms linear infinite;
}

.custom-cursor.state-hover .cursor-dot { transform: translate(-50%, -50%) scale(1.25); box-shadow: 0 0 20px rgba(241,176,17,0.95); }
.custom-cursor.state-hover .cursor-ring { transform: translate(-50%, -50%) scale(1.12); border-color: rgba(241,176,17,0.35); }
.custom-cursor.state-active .cursor-dot { transform: translate(-50%, -50%) scale(0.85); }
.custom-cursor.state-active .cursor-ripple { transform: translate(-50%, -50%) scale(2.4); opacity: 0.9; }
.custom-cursor.state-loading .cursor-spinner { opacity: 1; }

@keyframes spin { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }

/* particle animation */
@keyframes pulse {
  0% { opacity: 0.15; transform: scale(0.85); }
  50% { opacity: 1; transform: scale(1.25); }
  100% { opacity: 0.15; transform: scale(0.85); }
}

.particle {
  position: absolute;
  border-radius: 9999px;
  opacity: 0.7;
  will-change: transform, opacity;
  animation-name: pulse;
  animation-iteration-count: infinite;
  animation-timing-function: ease-in-out;
}

/* Responsive: hide heavy visuals on small screens */
@media (max-width: 640px) {
  .particle { opacity: 0.6; }
  .md\:block { display: none; }
  .sm\:block { display: none; }
}

/* Reduce flash intensity on small screens to avoid harsh visual effects on phones */
@media (max-width: 640px) {
  /* Lower the idle overlay and dampen flash peaks */
  .hex-overlay {
    opacity: 0.03 !important; /* make it much subtler */
    filter: blur(10px) !important;
  }

  /* Reduce per-flash visual intensity by limiting drop-shadow and brightness */
  .hex-overlay[class*="hex-flash-"] {
    /* These overrides make the animations visibly softer on mobile */
    animation-duration: 1.1s !important;
    filter: blur(10px) !important;
    mix-blend-mode: screen;
  }

  /* reduce particle prominence */
  .particle { opacity: 0.45; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .particle { animation: none !important; }
  svg { animation: none !important; }
}

/* Hexagon background rotation & gradient */
.hex-wrap { 
  will-change: transform; 
}
.hex-svg { 
  transform-origin: 50% 50%;
  /* idle: no rotation. Add `.hex-moving` class to enable slow rotation when desired */
}

.hex-moving { animation: hex-rotate 30s linear infinite; }
.hex-overlay {
  mix-blend-mode: overlay;
  filter: blur(10px);
  opacity: 0.02; /* slightly dimmer idle overlay */
}

/* Dim the overall scene slightly by adding a top-level overlay layer at 20% black. 
   We make #root sit above it so content remains visible. */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.20);
  pointer-events: none;
  z-index: 0;
}

#root { position: relative; z-index: 1; }

/* lightning-style flash animation (short bright pulse) */
.hex-overlay.hex-flash {
  animation: hex-flash 220ms ease-out both;
}

@keyframes hex-flash {
  0% { opacity: 0.06; filter: blur(6px) drop-shadow(0 0 0 rgba(241,176,17,0)); }
  30% { opacity: 0.24; filter: blur(8px) drop-shadow(0 0 24px rgba(241,176,17,0.45)); }
  100% { opacity: 0.06; filter: blur(18px) drop-shadow(0 0 0 rgba(241,176,17,0)); }
}

/* Keep only two mild background effects: fade + sweep. Other heavy flash patterns removed to avoid visual clutter. */
@keyframes hex-flash-fade {
  0% { opacity: 0.035; filter: blur(10px); }
  45% { opacity: 0.12; filter: blur(6px); }
  100% { opacity: 0.035; filter: blur(10px); }
}
.hex-flash-fade { animation: hex-flash-fade 1000ms ease-out both; will-change: opacity, filter; }

/* Hex-shaped glow that follows the cursor. Subtle, low-brightness gold radial gradient with blur.
   It's placed beneath the cursor dot and uses clip-path to form a hexagon. Hidden on small screens. */
.cursor-hex-glow {
  position: fixed;
  pointer-events: none;
  width: 140px;
  height: 120px;
  transform: translate(-50%, -30%);
  z-index: 9998; /* slightly below the custom cursor dot */
  filter: blur(18px) saturate(0.95);
  opacity: 0.85;
  mix-blend-mode: screen;
  background: radial-gradient(circle at 50% 30%, rgba(241,176,17,0.14) 0%, rgba(241,176,17,0.08) 20%, rgba(241,176,17,0.02) 45%, rgba(0,0,0,0) 60%);
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  transition: transform 160ms cubic-bezier(.2,.9,.2,1), opacity 160ms ease;
}

@media (max-width: 640px) {
  .cursor-hex-glow { display: none; }
}

/* sweep overlay is implemented with an absolutely positioned div (.hex-sweep) */
.hex-sweep {
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0;
}
@keyframes hex-sweep-anim {
  0% { transform: translateX(-120%); opacity: 0; }
  15% { opacity: 0.18; }
  50% { transform: translateX(0%); opacity: 0.36; }
  100% { transform: translateX(120%); opacity: 0; }
}
.hex-sweep.active {
  animation: hex-sweep-anim 1200ms cubic-bezier(.2,.9,.2,1) both;
  /* a very subtle warm gradient line */
  background: linear-gradient(90deg, rgba(255,209,102,0) 0%, rgba(241,176,17,0.14) 45%, rgba(241,176,17,0.08) 55%, rgba(255,209,102,0) 100%);
}

@keyframes hex-rotate {
  0% { transform: rotate(0deg) scale(1.4); }
  50% { transform: rotate(45deg) scale(1.42); }
  100% { transform: rotate(0deg) scale(1.4); }
}

@keyframes hex-glow {
  0% { opacity: 0.04; }
  50% { opacity: 0.12; }
  100% { opacity: 0.04; }
}

/* Bee animations: wing flap and gentle bob
   Wing will rotate around its base (we simulate by transform origin on the group) */
.bee-wrap { will-change: transform; }
.bee-svg { overflow: visible; }
.wing { transform-origin: 50% 80%; }
.left-wing { animation: wing-flap-left 0.16s ease-in-out infinite; transform-origin: 16px 26px; }
.right-wing { animation: wing-flap-right 0.16s ease-in-out infinite; transform-origin: 40px 26px; }
.bee-wrap { animation: bee-bob 3s ease-in-out infinite; }

@keyframes wing-flap-left {
  0% { transform: rotate(-12deg) translateY(0); }
  50% { transform: rotate(12deg) translateY(-2px); }
  100% { transform: rotate(-12deg) translateY(0); }
}
@keyframes wing-flap-right {
  0% { transform: rotate(12deg) translateY(0); }
  50% { transform: rotate(-12deg) translateY(-2px); }
  100% { transform: rotate(12deg) translateY(0); }
}

@keyframes bee-bob {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-6px) scale(0.995); }
  100% { transform: translateY(0) scale(1); }
}

@media (prefers-reduced-motion: reduce) {
  .hex-svg, .hex-overlay, .wing, .bee-wrap { animation: none !important; }
}

/* Generic entrance animations (aura theme) */
.invisible { opacity: 0; transform-origin: center; }
.animated { opacity: 1 !important; }

.a-fade-up { animation: a-fade-up 700ms cubic-bezier(.2,.9,.3,1) both; }
.a-fade-right { animation: a-fade-right 700ms cubic-bezier(.2,.9,.3,1) both; }
.a-pop { animation: a-pop 540ms cubic-bezier(.2,.9,.3,1) both; }
.a-stagger > * { opacity: 0; transform: translateY(8px); }
.a-stagger.animated > * { animation: a-stagger-item 520ms cubic-bezier(.2,.9,.3,1) both; }

@keyframes a-fade-up {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes a-fade-right {
  from { opacity: 0; transform: translateX(-12px); }
  to { opacity: 1; transform: translateX(0); }
}
@keyframes a-pop {
  0% { transform: scale(.96); opacity: 0; }
  60% { transform: scale(1.03); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
@keyframes a-stagger-item {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

/* When body has .no-entry we disable the entrance animations so content doesn't 'come from bottom' on navigation
   This is applied transiently during route changes when the previous scroll position was not at the top. */
.no-entry .a-fade-up,
.no-entry .a-fade-right,
.no-entry .a-pop,
.no-entry .a-stagger > * {
  animation: none !important;
  opacity: 1 !important;
  transform: none !important;
}

/* small stagger helper: sets increasing delays for children (JS-free) */
.a-stagger.animated > *:nth-child(1) { animation-delay: 80ms; }
.a-stagger.animated > *:nth-child(2) { animation-delay: 160ms; }
.a-stagger.animated > *:nth-child(3) { animation-delay: 240ms; }
.a-stagger.animated > *:nth-child(4) { animation-delay: 320ms; }
.a-stagger.animated > *:nth-child(5) { animation-delay: 400ms; }
.a-stagger.animated > *:nth-child(6) { animation-delay: 480ms; }

/* Text glow utilities -------------------------------------------------- */
/* Use data attribute on body to select low/high preference: data-text-glow="low|medium|high" */
body[data-text-glow="low"] { --text-glow-intensity: 0.04; --heading-glow-intensity: 0.12; }
body[data-text-glow="medium"] { --text-glow-intensity: 0.08; --heading-glow-intensity: 0.22; }
body[data-text-glow="high"] { --text-glow-intensity: 0.14; --heading-glow-intensity: 0.34; }

/* keyframes for a slow subtle pulse used for headings and text glow */
@keyframes text-glow-pulse {
  0% { filter: drop-shadow(0 0 calc(var(--text-glow-intensity) * 18px) rgba(241,176,17,0.06)); }
  50% { filter: drop-shadow(0 0 calc(var(--text-glow-intensity) * 28px) rgba(241,176,17,0.11)); }
  100% { filter: drop-shadow(0 0 calc(var(--text-glow-intensity) * 18px) rgba(241,176,17,0.06)); }
}

@keyframes heading-glow-pulse {
  0% { filter: drop-shadow(0 0 calc(var(--heading-glow-intensity) * 20px) rgba(241,176,17,0.16)); }
  50% { filter: drop-shadow(0 0 calc(var(--heading-glow-intensity) * 36px) rgba(241,176,17,0.26)); }
  100% { filter: drop-shadow(0 0 calc(var(--heading-glow-intensity) * 20px) rgba(241,176,17,0.16)); }
}

/* Apply to all non-heading text with low glow
   Use .text-glow to allow per-element opt-out if needed */
body :where(p, li, span, a, small, label, .text-aura, .text-white) {
  text-shadow: 0 0 calc(var(--text-glow-intensity) * 8px) rgba(241,176,17,0.06);
  transition: text-shadow 260ms ease, filter 260ms ease, opacity 200ms ease;
}

/* Headings stronger glow */
h1, h2, h3, h4, h5, h6 {
  text-shadow: 0 0 calc(var(--heading-glow-intensity) * 10px) rgba(241,176,17,0.12);
  transition: text-shadow 260ms ease, filter 260ms ease;
}

/* Pulse animation applied at launch and slowly while visible */
.heading-glow-anim { animation: heading-glow-pulse 2200ms ease-in-out infinite; }
.text-glow-anim { animation: text-glow-pulse 3000ms ease-in-out infinite; }

/* Card entrance animation (used on initial page load and on scroll into view) */
.aura-card { transform: translateY(6px) scale(1); opacity: 0; }
.aura-card.animate-in { animation: card-enter 520ms cubic-bezier(.2,.9,.3,1) both; }
@keyframes card-enter {
  0% { transform: translateY(18px) scale(.995); opacity: 0; }
  60% { transform: translateY(-6px) scale(1.006); opacity: 1; }
  100% { transform: translateY(0) scale(1); opacity: 1; }
}

/* If user prefers reduced motion, disable animations and glows */
@media (prefers-reduced-motion: reduce) {
  .heading-glow-anim, .text-glow-anim, .aura-card.animate-in, .a-stagger.animated > * { animation: none !important; }
  body :where(p, li, span, a, small, label, .text-aura, .text-white) { text-shadow: none !important; }
}

/* Neon / glow utilities for header/nav */
.neon-text {
  text-shadow: 0 0 8px rgba(241,176,17,0.95), 0 0 20px rgba(241,176,17,0.45);
}

.nav-link { display: inline-flex; align-items: center; gap: .5rem; position: relative; padding-bottom: 6px; }
.nav-link::after { content: ""; position: absolute; left: 12%; right: 12%; bottom: -6px; height: 3px; border-radius: 999px; opacity: 0; transition: opacity .18s ease, transform .18s ease; transform: translateY(4px); }
.nav-link:hover::after { opacity: 0.7; transform: translateY(0); }
.nav-link-active::after { opacity: 1; transform: translateY(0); background: linear-gradient(90deg, rgba(255,209,102,1), rgba(184,116,0,0.95)); box-shadow: 0 0 14px rgba(241,176,17,0.9); }

/* Desktop nav sits directly on the header background (no boxed container) */
/* Optionally we keep small spacing adjustments here for desktop nav links */
.nav-desktop { display: flex; gap: 12px; align-items: center; }
.nav-desktop .nav-link { padding-bottom: 8px; }

.header-pill { /* removed boxed background: keep layout but no visual box */
  background: transparent !important;
  border-radius: 0 !important;
  padding: 0 !important;
  display: flex;
  align-items: center;
  gap: 8px;
}
.logo-glow { /* remove the solid glow/pill behind the logo to keep it flat */
  box-shadow: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
  background: transparent !important;
}

/* compact footer styling to keep it minimal and tight */
.compact-footer { max-height: 56px; display: flex; flex-direction: column; justify-content: center; }
.compact-footer h2 { line-height: 1; }
.compact-footer p { line-height: 1; opacity: 0.9; }

/* timeline bee */
.timeline-bee {
  position: absolute;
  left: 50%;
  transform: translate(-50%, -50%);
  transition: top 420ms cubic-bezier(.2,.9,.2,1), opacity 260ms ease;
}
.timeline-dot { transition: transform 340ms cubic-bezier(.2,.9,.2,1), box-shadow 260ms; }
.timeline-dot.animated { transform: scale(1.035); box-shadow: 0 6px 18px rgba(241,176,17,0.12); }

/* Aura card glow helper: when any card is hovered, all cards get this class to glow */
.aura-card { transition: box-shadow .22s ease, transform .18s ease, border-color .18s ease, background-color .18s; will-change: transform, box-shadow; }
.aura-card.glow { box-shadow: 0 12px 40px rgba(241,176,17,0.18), 0 0 36px rgba(241,176,17,0.06); border-color: rgba(241,176,17,0.95) !important; transform: translateY(-4px); }
.aura-card .card-icon { transition: filter .18s ease, transform .18s ease; }
.aura-card.glow .card-icon { filter: drop-shadow(0 6px 12px rgba(241,176,17,0.32)); transform: translateY(-2px); }

/* Visual accessibility: respect reduced motion prefs */
@media (prefers-reduced-motion: reduce) {
  .aura-card, .aura-card.glow { transform: none; box-shadow: none; }
}

/* Per-card hover/focus glow (applies to the hovered card only) */
.aura-card:hover, .aura-card:focus {
  box-shadow: 0 12px 40px rgba(241,176,17,0.18), 0 0 36px rgba(241,176,17,0.06);
  border-color: rgba(241,176,17,0.95) !important;
  transform: translateY(-3px);
}
.aura-card:hover .card-icon, .aura-card:focus .card-icon {
  filter: drop-shadow(0 6px 12px rgba(241,176,17,0.28));
  transform: translateY(-2px);
}

/* Mobile bottom nav styling */
.mobile-bottom-nav {
  /* allow it to shrink on very narrow viewports to avoid forcing horizontal scroll */
  min-width: 0;
  max-width: calc(100% - 32px);
  justify-content: center;
  gap: 6px;
  padding-left: 8px;
  padding-right: 8px;
}

/* Mobile bee helper (ensure it sits above content but below the bottom nav) */
.bee-wrap-mobile { pointer-events: none; }

@media (max-width: 640px) {
  /* keep header logo aligned top-left and ensure body content has bottom padding to avoid overlap with nav */
  body { padding-bottom: 110px; }

  /* On mobile, keep aura-cards gently glowing by default for visual clarity */
  .aura-card {
    box-shadow: 0 8px 32px rgba(241,176,17,0.09);
    border-color: rgba(241,176,17,0.06) !important;
    transform: translateY(0) !important;
    transition: box-shadow .32s ease, transform .18s ease;
  }

  /* Slightly stronger subtle glow for primary sections */
  .aura-card.glow, .aura-card { box-shadow: 0 10px 40px rgba(241,176,17,0.11); }
}

/* mobile bottom nav sizing tweaks */
.mobile-bottom-nav { height: 64px; align-items: center; padding-left: 12px; padding-right: 12px; }
.mobile-bottom-nav .nav-link { padding: 0 10px; }

